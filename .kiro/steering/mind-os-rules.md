---
inclusion: always
---

# Mind-OS 交互规则

## 核心原则

1. **用户只在对话框交互** - 用户不需要使用终端，所有命令由 AI 执行
2. **AI 负责所有操作** - 读写黑板、归档、记忆同步等工作全部由 AI 完成
3. **黑板是教学界面** - AI 在 `黑板.md` 写提问和教学内容，用户打开查看
4. **对话框是回复通道** - 用户直接在聊天中回复，AI 自动记录到黑板

## 工作流程

1. 用户说"开始学习"或类似意图 → AI 初始化黑板，写入开场
2. 用户在对话框回复 → AI 用工具将回复写入黑板，然后继续教学
3. 用户说"归档"或"结束学习" → AI 归档黑板内容到记忆系统
4. 黑板增量记录，保留完整对话历史

## Flomo 同步规则

1. **本地优先** - 所有要上传的内容先本地备份到 `增量引擎/flomo备份/`
2. **离线队列** - 网络失败时自动加入 `.mind_os/flomo_queue.json` 待上传队列
3. **自动去重** - 通过内容哈希防止重复上传，历史记录在 `.mind_os/flomo_history.json`
4. **增量上传** - 只上传新内容，已上传过的自动跳过
5. **手动重试** - 网络恢复后执行 `python mind-os.py flomo retry` 上传队列

## 黑板文件

- 路径: `Mind-OS/黑板.md`
- 用户应打开此文件查看 AI 的提问和教学内容
- 所有对话带时间戳，方便回顾
